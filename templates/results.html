<!DOCTYPE html>
<html>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type=text/javascript>
        $(function() {
          $('a#upvote').on('click', function(e) {
            e.preventDefault()
            $.getJSON('/upvote',
                function(data) {
              //do nothing
            });
            return false;
          });
        });
</script>

  <head>
    <title>Results</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="author" content="colorlib.com">
    <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet" />
    <!-- Link the CSS style file to this HTML page -->
    <link rel="stylesheet" type= "text/css" href="{{ url_for('static', filename='css/main.css') }}">
  </head>

  <body>
  <h1 class="h1">Results for "{{ query }}"</h1>
  <br>

<!--  <form action="upvote" method="post">-->
    {% extends "base.html" %}
    {% block content %}
    <table id="data" class="table table-striped">
    <thead>
    <tr>
      <th>Account</th>
      <th>Tweet</th>
      <th>Sentiment</th>
<!--      <th>Upvote</th>-->
    </tr>
    </thead>
    <tbody>
    {% for tweet in tweet_list %}
      <tr>
        <td><a href="https://twitter.com/{{ tweet['source'] }}" target="_blank">@{{ tweet['source'] }}</a></td>
        <td>
          <a href="https://twitter.com/twitter/statuses/{{ tweet['id'] }}" target="_blank">{{ tweet['text'] }}</a></td>
        <td>{{ tweet['sentiment'] }}</td>
<!--        <td> <a href=# id=upvote><button>Up Vote</button></a> </td>-->

      </tr>
    {% endfor %}
    </tbody>
    </table>

<!--  </form>-->

    <table id="sentiment_data" class="table table-striped">
      <thead>
      <tr>
        {% for k,v in news_sentiments.items() %}
        <th><a href="https://twitter.com/{{ k }}" target="_blank">@{{ k }}</a> Sentiment Analysis Percentages</th>
      </tr>
      </thead>
      <tbody>
        <tr>
          {% for k1,v1 in v[0].items() %}
          <td>{{ k1 }}: {{ v1 }}%</td>
          {% endfor %}
          <td>Total Tweets: {{ v[1] }}</td>
          </tr>
      {% endfor %}
      </tbody>
    </table>
      {% endblock %}
  <br>
  <br>
  </body>

{% block scripts %}
  <script>
    $(document).ready(function () {
      $('#data').DataTable({
        columns: [
          null,
          null,
          null
          ],
      });
    });
  </script>
{% endblock %}

</html>


